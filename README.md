# Java-Integration-Service
Repo Documentation
# Konsep Integrasi
Komunikasi service antara channel dan core, integration-app digunakan sebagai application integration untuk meneruskan ke core
channel hit ke endpoint Backend Middleware dan meneruskan ke endpointnya core untuk mendapatkan data yang diperlukan dengan melakukan mappingan request di integration application

# Clean Code
Service Backend Middleware : integration-app
Service 3rd Core : core-service

# Auth and Security
Basic Auth :
    spring.security.user.name=channel
    spring.security.user.password=123456

# API Document
# Endpoint integration-service
    http://localhost:8080/rest/api/channel/transaction

    Request :
    {
        "clientId": "MBANK",
        "reffNum": "87231008164438447001",
        "contentRequest": {
            "providerId": "XL",
            "cardNum": "4111111111111112",
            "accountNum": "9876543211",
            "amount": 1000000
        }
    }

    Response :
    {
        "clientId": "IBANK",
        "reffNum": "87231008164438447001",
        "journal": "07547307",
        "financialJournal": "894450994248",
        "contentResponse": {
            "providerId": "TELKOMSEL",
            "cardNum": "4111111111111112",
            "accountNum": "9876543211",
            "amount": 1000000.0,
            "chargeAmount": 1500.0,
            "totalAmount": 1001500.0
        }
    }

# Endoint core-service
    http://localhost:8081/api/core/service

    Request :
    {
        "clientId": "IBANK",
        "reffNum": "87231008164438447001",
        "providerId": "TELKOMSEL",
        "cardNum": "4111111111111112",
        "accountNum": "9876543211",
        "amount": 1000000.0
    }

    Response :
    {
        "responseCode": "00",
        "responseMessage": "Successful",
        "transactionId": 894450994248,
        "journal": "07547307",
        "chargeAmount": 1500.0
    }

# Database
# PostgreSQL :
    CREATE TABLE public.channel (
        id int8 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
        client_id varchar(255) NULL,
        CONSTRAINT channel_pkey PRIMARY KEY (id)
    )

    CREATE TABLE public.meta_data (
        id int8 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
        provider_id varchar(255) NULL,
        CONSTRAINT meta_data_pkey PRIMARY KEY (id)
    )

    INSERT INTO public.channel
    (client_id)
    VALUES('IBANK');

    INSERT INTO public.meta_data
    (provider_id)
    VALUES('TELKOMSEL');
